# 依頼：リファクタリング

指定されたファイル群を、**保守性・再利用性・拡張性**の向上を目的としてリファクタリングせよ。

リファクタリング対象： $ARGUMENTS

---

# 指針と制約

## 1. 設計原則：SOLIDの徹底

- **単一責任の原則 (SRP):** 1つのモジュールは1つの責務に集中させる。
- **オープン・クローズドの原則 (OCP):** 拡張には開かれ、修正には閉じられるようにする。
- **リスコフの置換原則 (LSP):** サブタイプはベースタイプと置換可能であること。
- **インターフェース分離の原則 (ISP):** 使用しない機能への依存を強制しない。
- **依存性逆転の原則 (DIP):** 実装ではなく、抽象に依存する。

## 2. 品質基準：読み手と未来を意識する

- **DRY (Don't Repeat Yourself):** 「知識」や「意図」の重複を排除し、抽象化する。
- **シンプルさと可読性:** 複雑なロジックや深いネストを避け、意図が明確に伝わる構造にする (KISS)。
- **命名:** 役割と意図が正確に伝わる、表現力豊かな命名を行う。
- **テスト容易性:** 依存関係を分離し、ユニットテストが容易な設計を目指す。
- **効率:** 不要な計算処理を最適化し、パフォーマンスを意識する。

## 3. React特化方針

- **コンポーネント分割:** 巨大コンポーネントを単一責務の原則で分割し、UIとロジックの関心を分離する。
- **ロジックの抽象化:** 再利用可能なロジックや副作用は、カスタムHooksとしてコンポーネントから抽出する。
- **状態管理の最適化:** Propsのバケツリレーを解消し、状態の所有者を明確にする（コンポーネント合成、Context、状態のリフトアップ）。
- **パフォーマンス:** `React.memo`, `useMemo`, `useCallback` を適切に用い、不要な再レンダリングを防止する（メモ化）。

## 4. 絶対条件

- **外部仕様の不変:** リファクタリングの前後で、APIや機能など、外部から観測可能な振る舞いを一切変更しないこと。
- **テストの維持:** 既存のテストがすべてパスすること。

---

# 出力形式

変更したコード群と合わせて、以下の要約を提示すること。

### 変更の概要と設計根拠

- **変更点:** 主要な変更点をリストで示す。
- **根拠:** 各変更が、上記のどの設計原則・品質基準に基づいているのか、そして「なぜ」その変更が必要だったのかを簡潔に説明する。
